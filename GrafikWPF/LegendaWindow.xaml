<Window x:Class="GrafikWPF.LegendaWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Wyjaśnienie deklaracji"
        Width="600"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        WindowStyle="ToolWindow"
        ResizeMode="NoResize"
        Background="LightGray">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <TextBlock TextWrapping="Wrap" LineHeight="20">
                <TextBlock FontWeight="Bold" FontSize="16">Dostępność i deklaracje dyżurnych</TextBlock>
                <LineBreak/><LineBreak/>
                <Run>Poniższe deklaracje określają dostępność i preferencje lekarza co do dyżuru w danym dniu. Algorytm używa ich do znalezienia optymalnego grafiku.</Run>
                <LineBreak/><LineBreak/>

                <TextBlock FontWeight="Bold" FontSize="14" Foreground="#006400">Deklaracje pozytywne (chęć podjęcia dyżuru)</TextBlock>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="📌" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Rezerwacja:</Run> Najwyższy możliwy priorytet. Oznacza, że lekarz bezwzględnie musi otrzymać dyżur w tym dniu, o ile nie łamie to twardych reguł (np. limitu dyżurów). Żaden inny kandydat nie będzie w tym dniu rozpatrywany.</TextBlock>
                </Grid>
                
                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="✅" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Bardzo chcę:</Run> Wysoki priorytet. Deklaracja ta jako jedyna ignoruje ograniczenia dyżuru dzień po dniu oraz w sąsiedztwie "Innego dyżuru".</TextBlock>
                </Grid>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="👍" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Chcę:</Run> Wyższy priorytet. Lekarz z tą deklaracją będzie brany pod uwagę przed lekarzem, który tylko "Może".</TextBlock>
                </Grid>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="🆗" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Mogę:</Run> Deklaracja neutralna, standardowa dostępność.</TextBlock>
                </Grid>
                
                <LineBreak/><LineBreak/>
                <TextBlock FontWeight="Bold" FontSize="14" Foreground="#b22222">Deklaracje z ograniczeniami lub negatywne</TextBlock>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="⚠️" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Mogę warunkowo:</Run> Deklaracja specjalna. Lekarzowi w ciągu miesiąca zostanie przydzielony co najwyżej jeden dyżur spośród wszystkich dni oznaczonych w ten sposób.</TextBlock>
                </Grid>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="🏥" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Inny dyżur:</Run> Oznacza dyżur w innym miejscu. Blokuje możliwość przydziału dyżuru w dniu poprzedzającym i następującym (chyba że występuje tam deklaracja "Bardzo chcę").</TextBlock>
                </Grid>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="🌴" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Urlop:</Run> Lekarz jest całkowicie niedostępny.</TextBlock>
                </Grid>

                <Grid Margin="20,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="❌" Margin="0,0,15,0" FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" VerticalAlignment="Center"><Run FontWeight="Bold">Niedostępny (---):</Run> Lekarz jest całkowicie niedostępny. Domyślna deklaracja dla każdego dnia.</TextBlock>
                </Grid>
            </TextBlock>
        </ScrollViewer>

        <Button Grid.Row="1" Content="Zamknij" IsDefault="True" Click="Zamknij_Click" HorizontalAlignment="Right" Margin="0,15,0,0" Padding="10,5"/>
    </Grid>
</Window>